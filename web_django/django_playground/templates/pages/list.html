{% extends "base.html" %}

{% block content %}

<br>
<!-- welcome claim -->
<div class="row">
  <div class="col-md-7">
    <div class="alert alert-info" role="alert">
      <p>Hi <strong>{{user.username}}</strong>. <br>
        You've been using Moves for <strong>{{ days }} days</strong>. <br>
        Your Timezone is: <strong> {{profile.profile.currentTimeZone.id }}</strong> <br>
        Your Tracking Device OS is: <strong> {{profile.profile.platform | upper}}</strong>
      </p>
    </div>
  </div>
  <div class="col-md-5">

    <div class="dropdown show float-right">
      <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Select Month
      </a>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
        {% for month in months %}
                <a class="dropdown-item" href="month/{{ month|date:'Ym' }}">{{ month|date:"M Y" }}</a>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<hr>

<div class="row">
  <div class="col-md-7">
    <h4>Overview: Last 30 days</h4>
    <br>
    <table id="table_id" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Date</th>
                <th>Short description</th>
                <th>GeoJSON</th>
            </tr>
        </thead>
        <tbody>
              {% for day in summary %}
                <tr>
                <td>

                    <a href="map/{{day.dateObj|date:"Y-m-d"}}">{{ day.dateObj }}</a>
                </td>

                  <td class="summary">
                    {{day.summary.walking}}
                  </td>

                  <td><a href="geojson/{{ day.dateObj|date:'Y-m-d' }}" title="">GeoJSON</a></li></td>
                </tr>

                  {% endfor %}

        </tbody>
    </table>

  </div>
  <div class="col-md-5">
    <h4>Matplot-Diagram: Last 30 Days</h4>
    <br>
    <figure class="figure">
      <img src="mpl_recent.png" class="figure-img" alt="A generic square placeholder image with rounded corners in a figure.">
    </figure>
  </div>
</div>


{% endblock content %}


{% block javascript %}

<!-- settings for datatables -->
<script type="text/javascript">
$(document).ready( function () {
  $('#table_id').DataTable({
    "order": [],
    "ordering": false,
  });
} );
</script>

{% endblock %}
